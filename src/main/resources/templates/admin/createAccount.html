<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Trang Ch·ªß</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./a.css">
	<link rel="stylesheet" href="/css/admin/adminCreateAccount.css">
	<link rel="stylesheet" href="/css/admin/adminNav.css">
</head>

<body>
	<div class="container-fluid">
		<div class="row">
			<!-- Thanh ƒëi·ªÅu h∆∞·ªõng Sidebar -->
			<nav class="col-md-3 col-lg-2 d-md-block sidebar">
				<a href="/admin/admin_home" class="logo">üè®</a>
				<ul class="nav flex-column">
					<li class="nav-item"><a href="/admin/admin_home" class="nav-link">Trang Ch·ªß</a></li>
					<li class="nav-item"><a href="#about" class="nav-link">Gi·ªõi Thi·ªáu</a></li>
					<li class="nav-item"><a href="#services" class="nav-link">D·ªãch V·ª•</a></li>
					<li class="nav-item"><a href="#contact" class="nav-link">Li√™n H·ªá</a></li>
					<li class="nav-item"><a href="#settings" class="nav-link">C√†i ƒê·∫∑t</a></li>
				</ul>
			</nav>

			<!-- Khu v·ª±c n·ªôi dung ch√≠nh -->
			<main class="col-md-9 col-lg-10 main-content">
				<!-- Form ch·ªçn vai tr√≤ -->
				<div class="form-container">
					<form>
						<div class="mb-3">
							<label for="role" class="form-label">Ch·ªçn ch·ª©c v·ª•</label>
							<select id="role" class="form-select" onchange="toggleForm()">
								<option value="">-- Ch·ªçn vai tr√≤ --</option>
								<option value="DOCTOR">B√°c sƒ©</option>
								<option value="NURSE">Y t√°</option>
							</select>
						</div>
					</form>
				</div>

				<!-- Form cho Y t√° -->
				<div id="nurseForm" class="form-container hidden">
					<h3>Th√¥ng tin y t√°</h3>
					<form action="/admin/create_account_nuser" th:object="${createNuserDto}" method="post"
						enctype="multipart/form-data">
						<div th:if="${error != null}" class="alert alert-danger" role="alert">
							<p th:text="${error}"></p>
						</div>
						<div th:if="${success != null}" class="alert alert-success" role="alert">
							<p th:text="${success}"></p>
						</div>
						<div class="avatar-upload mb-3">
							<label for="avatarNuser">
								<div class="avatar-preview">
									<img class="avatarPreviewNuser" id="avatarPreview" src="" alt="Avatar">
								</div>
								<input type="file" accept="image/png" style="display: none;" th:field="*{avatarNuser}">
								<p th:if="${#fields.hasErrors('avatarNuser')}" th:errorclass="text-danger" accept=".png"
									th:errors="*{avatarNuser}"></p>
							</label>
						</div>
						<div class="mb-3">
							<label class="form-label">T√†i kho·∫£n</label>
							<input type="text" class="form-control" th:field="*{userName}">
							<p th:if="${#fields.hasErrors('userName')}" th:errorclass="text-danger"
								th:errors="*{userName}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">M·∫≠t kh·∫©u</label>
							<input type="text" class="form-control" th:field="*{password}">
							<p th:if="${#fields.hasErrors('password')}" th:errorclass="text-danger"
								th:errors="*{password}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">H·ªç v√† t√™n</label>
							<input type="text" class="form-control" th:field="*{name}">
							<p th:if="${#fields.hasErrors('name')}" th:errorclass="text-danger" th:errors="*{name}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Tu·ªïi</label>
							<input type="number" class="form-control" th:field="*{age}">
							<p th:if="${#fields.hasErrors('age')}" th:errorclass="text-danger" th:errors="*{age}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="email" class="form-control" th:field="*{email}">
							<p th:if="${#fields.hasErrors('email')}" th:errorclass="text-danger" th:errors="*{email}">
							</p>
						</div>
						<div class="mb-3">
							<label class="form-label">Gi·ªõi t√≠nh</label>
							<select class="form-select" th:field="*{sex}">
								<option value="MALE">Nam</option>
								<option value="FEMALE">N·ªØ</option>
							</select>
							<p th:if="${#fields.hasErrors('sex')}" th:errorclass="text-danger" th:errors="*{sex}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
							<input type="text" class="form-control" th:field="*{phoneNumber}">
							<p th:if="${#fields.hasErrors('phoneNumber')}" th:errorclass="text-danger"
								th:errors="*{phoneNumber}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">B·∫±ng c·∫•p</label>
							<textarea class="form-control" th:field="*{degree}" rows="5"
								style="height: 200px; resize: vertical; width: 100%;"></textarea>
							<p th:if="${#fields.hasErrors('degree')}" th:errorclass="text-danger" th:errors="*{degree}">
							</p>
						</div>
						<div class="mb-3">
							<label class="form-label">Ph√≤ng</label>
							<select class="form-select" th:field="*{room}">
								<option value="" disabled selected>Ch·ªçn ph√≤ng ban</option>
								<option value="PATIENT_CARE">Patient Care - ChƒÉm s√≥c b·ªánh nh√¢n</option>
								<option value="MEDICATION_MANAGEMENT">Medication Management - Qu·∫£n l√Ω thu·ªëc</option>
								<option value="LABORATORY">Laboratory - Ph√≤ng x√©t nghi·ªám</option>
								<option value="RADIOLOGY_DEPARTMENT">Radiology Department - Khoa X-quang</option>
								<option value="ELECTROCARDIOGRAPHY">Electrocardiography - ƒêi·ªán t√¢m ƒë·ªì</option>
								<option value="PULMONARY_FUNCTION_TEST">Pulmonary Function Test - Ki·ªÉm tra ch·ª©c nƒÉng
									ph·ªïi</option>
								<option value="ECHOCARDIOGRAPHY">Echocardiography - Si√™u √¢m tim</option>
								<option value="BONE_DENSITOMETRY">Bone Densitometry - ƒêo m·∫≠t ƒë·ªô x∆∞∆°ng</option>
								<option value="ENDOSCOPY">Endoscopy - N·ªôi soi</option>
								<option value="ELECTROENCEPHALOGRAPHY">Electroencephalography - ƒêi·ªán n√£o ƒë·ªì</option>
								<option value="CARDIAC_DIAGNOSTICS">Cardiac Diagnostics - Ch·∫©n ƒëo√°n tim m·∫°ch</option>
							</select>
							<p th:if="${#fields.hasErrors('room')}" th:errorclass="text-danger" th:errors="*{room}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">S·ªë nƒÉm kinh nghi·ªám</label>
							<input type="number" class="form-control" th:field="*{yearsExperience}">
							<p th:if="${#fields.hasErrors('yearsExperience')}" th:errorclass="text-danger"
								th:errors="*{yearsExperience}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Gi√° d·ªãch v·ª•</label>
							<input type="number" step="100000" class="form-control" th:field="*{price}">
							<p th:if="${#fields.hasErrors('price')}" th:errorclass="text-danger" th:errors="*{price}">
							</p>
						</div>
						<button type="submit" class="btn btn-primary">L∆∞u th√¥ng tin y t√°</button>
					</form>
				</div>

				<!-- Form cho B√°c sƒ© -->
				<div id="doctorForm" class="form-container hidden">
					<h3>Th√¥ng tin b√°c sƒ©</h3>
					<form id="loginForm" method="post" action="/admin/create_account_doctor"
						th:object="${createDoctorDto}" enctype="multipart/form-data">
						<div th:if="${error != null}" class="alert alert-danger" role="alert">
							<p th:text="${error}"></p>
						</div>
						<div th:if="${success != null}" class="alert alert-success" role="alert">
							<p th:text="${success}"></p>
						</div>
						<div class="avatar-upload mb-3">
							<label for="avatarDoctor">
								<div class="avatar-preview">
									<img class="avatarPreviewDoctor" id="avatarPreview" src="" alt="Avatar">
								</div>
								<input type="file" accept="image/png" id="avatarDoctor" style="display: none;"
									th:field="*{avatarDoctor}">
								<p th:if="${#fields.hasErrors('avatarDoctor')}" th:errorclass="text-danger"
									accept=".png" th:errors="*{avatarDoctor}"></p>
							</label>
						</div>
						<div class="mb-3">
							<label class="form-label">T√†i kho·∫£n</label>
							<input class="form-control mb-3" th:field="*{userName}">
							<p th:if="${#fields.hasErrors('userName')}" th:errorclass="text-danger"
								th:errors="*{userName}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">M·∫≠t kh·∫©u</label>
							<input type="text" class="form-control" th:field="*{password}">
							<p th:if="${#fields.hasErrors('password')}" th:errorclass="text-danger"
								th:errors="*{password}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">H·ªç v√† t√™n</label>
							<input type="text" class="form-control" th:field="*{name}">
							<p th:if="${#fields.hasErrors('name')}" th:errorclass="text-danger" th:errors="*{name}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Tu·ªïi</label>
							<input type="number" class="form-control" th:field="*{age}">
							<p th:if="${#fields.hasErrors('age')}" th:errorclass="text-danger" th:errors="*{age}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="email" class="form-control" th:field="*{email}">
							<p th:if="${#fields.hasErrors('email')}" th:errorclass="text-danger" th:errors="*{email}">
							</p>
						</div>
						<div class="mb-3">
							<label class="form-label">Gi·ªõi t√≠nh</label>
							<select class="form-select" th:field="*{sex}">
								<option value="MALE">Nam</option>
								<option value="FEMALE">N·ªØ</option>
							</select>
							<p th:if="${#fields.hasErrors('sex')}" th:errorclass="text-danger" th:errors="*{sex}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
							<input type="text" class="form-control" th:field="*{phoneNumber}">
							<p th:if="${#fields.hasErrors('phoneNumber')}" th:errorclass="text-danger"
								th:errors="*{phoneNumber}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">Chuy√™n khoa</label>
							<select class="form-select" th:field="*{specialized}">
								<option value="INTERNAL_MEDICINE">Internal Medicine - N·ªôi khoa</option>
								<option value="SURGERY">Surgery - Ngo·∫°i khoa</option>
								<option value="OBSTETRICS_AND_GYNECOLOGY">Obstetrics and Gynecology - S·∫£n ph·ª• khoa
								</option>
								<option value="PEDIATRICS">Pediatrics - Nhi khoa</option>
								<option value="DERMATOLOGY">Dermatology - Da li·ªÖu</option>
								<option value="PSYCHIATRY">Psychiatry - T√¢m th·∫ßn h·ªçc</option>
							</select>
							<p th:if="${#fields.hasErrors('specialized')}" th:errorclass="text-danger"
								th:errors="*{specialized}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">S·ªë nƒÉm kinh nghi·ªám</label>
							<input type="number" class="form-control" th:field="*{yearsExperience}">
							<p th:if="${#fields.hasErrors('yearsExperience')}" th:errorclass="text-danger"
								th:errors="*{yearsExperience}"></p>
						</div>
						<div class="mb-3">
							<label class="form-label">B·∫±ng c·∫•p</label>
							<textarea class="form-control" th:field="*{degree}" rows="5"
								style="height: 200px; resize: vertical; width: 100%;"></textarea>
							<p th:if="${#fields.hasErrors('degree')}" th:errorclass="text-danger" th:errors="*{degree}">
							</p>
						</div>
						<button type="submit" class="btn btn-primary">L∆∞u th√¥ng tin b√°c sƒ©</button>
					</form>
				</div>



			</main>
		</div>
	</div>

	<script>
		function toggleForm() {
			var role = document.getElementById("role").value;
			document.getElementById("doctorForm").classList.add("hidden");
			document.getElementById("nurseForm").classList.add("hidden");

			if (role === "DOCTOR") {
				document.getElementById("doctorForm").classList.remove("hidden");
			} else if (role === "NURSE") {
				document.getElementById("nurseForm").classList.remove("hidden");
			}
		}
		document.getElementById('avatarDoctor').addEventListener('change', handleFileChangeDoctor);
		document.getElementById('avatarNuser').addEventListener('change', handleFileChangeNuser);

		function handleFileChangeDoctor(event) {
			const reader = new FileReader();
			reader.onload = function () {
				const previews = document.querySelectorAll('.avatarPreviewDoctor');

				// Duy·ªát qua t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ c√≥ class "avatarPreview" v√† c·∫≠p nh·∫≠t ·∫£nh
				previews.forEach(preview => {
					preview.src = reader.result;
					preview.style.display = 'block';
				});
			};
			reader.readAsDataURL(event.target.files[0]);
		}
		
		function handleFileChangeNuser(event) {
			const reader = new FileReader();
			reader.onload = function () {
				const previews = document.querySelectorAll('.avatarPreviewNuser');

				// Duy·ªát qua t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ c√≥ class "avatarPreview" v√† c·∫≠p nh·∫≠t ·∫£nh
				previews.forEach(preview => {
					preview.src = reader.result;
					preview.style.display = 'block';
				});
			};
			reader.readAsDataURL(event.target.files[0]);
		}
	</script>
</body>

</html>